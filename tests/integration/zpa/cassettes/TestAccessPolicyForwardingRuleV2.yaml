interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/policyType/CLIENT_FORWARDING_POLICY
  response:
    body:
      string: '{"id":"216196257331281929","modifiedTime":"1764976939","creationTime":"1619672239","modifiedBy":"216196257331372705","name":"Bypass_Policy","enabled":true,"description":"Bypass
        policies.","policyType":"4","sorted":true}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:19 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '44'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - e99e4003-6855-93f7-9752-9704525f97fc
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4988'
      x-ratelimit-reset:
      - '41'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "tests-apfr2-vcr0001", "description": "Integration test Client
      Forwarding Rule V2", "ruleOrder": null, "action": "INTERCEPT", "conditions":
      [{"operator": "OR", "operands": [{"objectType": "CLIENT_TYPE", "values": ["zpn_client_type_exporter",
      "zpn_client_type_zapp"]}]}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '279'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: POST
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v2/admin/customers/216196257331281920/policySet/216196257331281929/rule
  response:
    body:
      string: '{"id":"216196257331395872","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","name":"tests-apfr2-vcr0001","description":"Integration
        test Client Forwarding Rule V2","ruleOrder":"1","priority":"2","policyType":"4","operator":"AND","action":"INTERCEPT","disabled":"0","extranetEnabled":false,"devicePostureFailureNotificationEnabled":false,"privilegedCapabilities":{},"privilegedPortalCapabilities":{},"conditions":[{"id":"42059006","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","operator":"OR","negated":false,"operands":[{"id":"42059007","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_exporter"},{"id":"42059008","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_zapp"}]}],"defaultRuleName":"Default_Rule","defaultRule":false}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:19 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '128'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - 2e5fe877-4b1c-9035-aeca-17f255b449b6
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4987'
      x-ratelimit-reset:
      - '41'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 201
      message: Created
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/policyType/CLIENT_FORWARDING_POLICY
  response:
    body:
      string: '{"id":"216196257331281929","modifiedTime":"1764976939","creationTime":"1619672239","modifiedBy":"216196257331372705","name":"Bypass_Policy","enabled":true,"description":"Bypass
        policies.","policyType":"4","sorted":true}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:19 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '38'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - 3d48498c-2526-9895-8b8f-9005b7face5f
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4986'
      x-ratelimit-reset:
      - '41'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/216196257331281929/rule/216196257331395872
  response:
    body:
      string: '{"id":"216196257331395872","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","name":"tests-apfr2-vcr0001","description":"Integration
        test Client Forwarding Rule V2","ruleOrder":"1","priority":"2","policyType":"4","operator":"AND","action":"INTERCEPT","disabled":"0","devicePostureFailureNotificationEnabled":false,"policySetId":"216196257331281929","conditions":[{"id":"42059006","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","operator":"OR","negated":false,"operands":[{"id":"42059007","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_exporter","name":"zpn_client_type_exporter","conditionId":"42059006"},{"id":"42059008","modifiedTime":"1764976939","creationTime":"1764976939","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_zapp","name":"zpn_client_type_zapp","conditionId":"42059006"}],"ruleGid":"216196257331395872"}],"defaultRuleName":"Default_Rule","defaultRule":false,"readOnly":false,"zscalerManaged":false}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '64'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - 6921fd09-081e-9c58-baa5-1c078e85f04f
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4985'
      x-ratelimit-reset:
      - '41'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/policyType/CLIENT_FORWARDING_POLICY
  response:
    body:
      string: '{"id":"216196257331281929","modifiedTime":"1764976939","creationTime":"1619672239","modifiedBy":"216196257331372705","name":"Bypass_Policy","enabled":true,"description":"Bypass
        policies.","policyType":"4","sorted":true}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '35'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - 11ab56f1-168d-9a30-b8a5-3f95c57cfab9
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4984'
      x-ratelimit-reset:
      - '40'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "tests-apfr2-vcr0001", "description": "Updated rule vcr0002",
      "ruleOrder": null, "action": "INTERCEPT", "conditions": [{"operator": "OR",
      "operands": [{"objectType": "CLIENT_TYPE", "values": ["zpn_client_type_exporter",
      "zpn_client_type_zapp"]}]}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '257'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: PUT
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v2/admin/customers/216196257331281920/policySet/216196257331281929/rule/216196257331395872
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-store
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '108'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - bdcfe90f-7581-9857-a5ff-05dfec8a0326
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4983'
      x-ratelimit-reset:
      - '40'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 204
      message: No Content
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/rules/policyType/CLIENT_FORWARDING_POLICY
  response:
    body:
      string: '{"totalPages":"1","totalCount":"2","list":[{"id":"216196257331395872","modifiedTime":"1764976940","creationTime":"1764976939","modifiedBy":"216196257331372705","name":"tests-apfr2-vcr0001","description":"Updated
        rule vcr0002","ruleOrder":"1","priority":"2","policyType":"4","operator":"AND","action":"INTERCEPT","disabled":"0","devicePostureFailureNotificationEnabled":false,"policySetId":"216196257331281929","conditions":[{"id":"42059009","modifiedTime":"1764976940","creationTime":"1764976940","modifiedBy":"216196257331372705","operator":"OR","negated":false,"operands":[{"id":"42059010","modifiedTime":"1764976940","creationTime":"1764976940","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_exporter","name":"zpn_client_type_exporter","conditionId":"42059009"},{"id":"42059011","modifiedTime":"1764976940","creationTime":"1764976940","modifiedBy":"216196257331372705","objectType":"CLIENT_TYPE","lhs":"id","rhs":"zpn_client_type_zapp","name":"zpn_client_type_zapp","conditionId":"42059009"}],"ruleGid":"216196257331395872"}],"defaultRuleName":"Default_Rule","defaultRule":false,"readOnly":false,"zscalerManaged":false},{"id":"216196257331281930","modifiedTime":"1726870089","creationTime":"1619672239","modifiedBy":"216196257331372705","name":"Default_Rule","description":"This
        is the default Client Forwarding Policy rule","ruleOrder":"2","priority":"1","policyType":"4","operator":"AND","action":"INTERCEPT","disabled":"0","devicePostureFailureNotificationEnabled":false,"policySetId":"216196257331281929","defaultRuleName":"Default_Rule","defaultRule":true,"readOnly":false,"zscalerManaged":false}]}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '62'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - af719dfb-9242-9e94-bf07-3e476b539813
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4982'
      x-ratelimit-reset:
      - '40'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: GET
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/policyType/CLIENT_FORWARDING_POLICY
  response:
    body:
      string: '{"id":"216196257331281929","modifiedTime":"1764976939","creationTime":"1619672239","modifiedBy":"216196257331372705","name":"Bypass_Policy","enabled":true,"description":"Bypass
        policies.","policyType":"4","sorted":true}'
    headers:
      cache-control:
      - no-store
      content-encoding:
      - gzip
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      content-type:
      - application/json;charset=utf-8
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '27'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - 2deaf533-e2de-9dbb-91e6-3bbc1ab06584
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4981'
      x-ratelimit-reset:
      - '40'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - zscaler-sdk-python/2.0.0 python/3.11.8 Darwin/24.6.0
    method: DELETE
    uri: https://easm.test.zscaler.com/zpa/mgmtconfig/v1/admin/customers/216196257331281920/policySet/216196257331281929/rule/216196257331395872
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-store
      content-security-policy:
      - default-src 'none'; upgrade-insecure-requests
      date:
      - Fri, 05 Dec 2025 23:22:20 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      server:
      - Zscaler
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Origin,Access-Control-Request-Method,Access-Control-Request-Headers, Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '72'
      x-frame-options:
      - DENY
      x-oneapi-host:
      - https://apiusw2.zsapi.net
      x-oneapi-request-id:
      - b682c734-ab5d-977f-8519-e3251ba71d4f
      x-oneapi-version:
      - 109.1.92
      x-ratelimit-limit:
      - 5000, 5000;w=60
      x-ratelimit-remaining:
      - '4980'
      x-ratelimit-reset:
      - '40'
      x-transaction-id:
      - 637a137c-e94b-41e5-823b-19fc15cbf8a0
      x-xss-protection:
      - '0'
    status:
      code: 204
      message: No Content
version: 1
